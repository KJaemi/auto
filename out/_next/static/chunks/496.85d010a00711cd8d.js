"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{961:function(e,t,n){n.r(t),n.d(t,{Canvas:function(){return P},ReactThreeFiber:function(){return i.t},_roots:function(){return i.x},act:function(){return i.v},addAfterEffect:function(){return i.o},addEffect:function(){return i.n},addTail:function(){return i.p},advance:function(){return i.m},applyProps:function(){return i.j},buildGraph:function(){return i.w},context:function(){return i.f},createEvents:function(){return i.c},createPortal:function(){return i.g},createRoot:function(){return i.b},dispose:function(){return i.k},events:function(){return O},extend:function(){return i.e},flushGlobalEffects:function(){return i.q},getRootState:function(){return i.s},invalidate:function(){return i.l},reconciler:function(){return i.h},render:function(){return i.r},unmountComponentAtNode:function(){return i.d},useFrame:function(){return i.C},useGraph:function(){return i.D},useInstanceHandle:function(){return i.y},useLoader:function(){return i.F},useStore:function(){return i.z},useThree:function(){return i.A}});var r,o,i=n(9563),u=n(2265),c=n(1448);function l(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}let s=["x","y","top","bottom","left","right","width","height"],a=(e,t)=>s.every(n=>e[n]===t[n]);var f=Object.defineProperty,d=Object.defineProperties,v=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&w(e,n,t[n]);if(h)for(var n of h(t))m.call(t,n)&&w(e,n,t[n]);return e},E=(e,t)=>d(e,v(t));function y(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(r=window.document)?void 0:r.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?u.useLayoutEffect:u.useEffect;let g=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=g;return}return g.apply(this,arguments)};let x=y(u.createContext(null));class C extends u.Component{render(){return u.createElement(x.Provider,{value:this._reactInternals},this.props.children)}}var z=n(7437);n(9971),n(7975),n(6697);let j={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O(e){let{handlePointer:t}=(0,i.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(j).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;let{set:r,events:o}=e.getState();null==o.disconnect||o.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=o.handlers)?n:[]).forEach(([e,n])=>{let[r,o]=j[e];t.addEventListener(r,n,{passive:o})})},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){var r;Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){let[r]=j[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let L=u.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:o,events:s=O,eventSource:f,eventPrefix:d,shadows:v,linear:h,flat:p,legacy:m,orthographic:w,frameloop:g,dpr:j,performance:L,raycaster:P,camera:S,scene:R,onPointerMissed:k,onCreated:H,...M},_){u.useMemo(()=>(0,i.e)(c),[]);let T=function(){let e=function(){let e=function(){let e=u.useContext(x);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=u.useId();return u.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let o=n?t.return:t.child;for(;o;){let t=e(o,n,r);if(t)return t;o=n?null:o.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=u.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){let e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==x&&!t.has(e)&&t.set(e,u.useContext(y(e)))}n=n.return}return t}();return u.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>u.createElement(t,null,u.createElement(n.Provider,E(b({},r),{value:e.get(n)}))),e=>u.createElement(C,b({},e))),[e])}(),[F,B]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o;let i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,s]=(0,u.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,u.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,v=e?"number"==typeof e?e:e.resize:null,h=(0,u.useRef)(!1);(0,u.useEffect)(()=>(h.current=!0,()=>void(h.current=!1)));let[p,m,w]=(0,u.useMemo)(()=>{let e=()=>{if(!f.current.element)return;let{left:e,top:t,width:n,height:o,bottom:i,right:u,x:c,y:l}=f.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:o,bottom:i,right:u,x:c,y:l};f.current.element instanceof HTMLElement&&r&&(d.height=f.current.element.offsetHeight,d.width=f.current.element.offsetWidth),Object.freeze(d),h.current&&!a(f.current.lastBounds,d)&&s(f.current.lastBounds=d)};return[e,v?l(e,v):e,d?l(e,d):e]},[s,r,d,v]);function b(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",w,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function E(){f.current.element&&(f.current.resizeObserver=new i(w),f.current.resizeObserver.observe(f.current.element),t&&f.current.scrollContainers&&f.current.scrollContainers.forEach(e=>e.addEventListener("scroll",w,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{w()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}return o=!!t,(0,u.useEffect)(()=>{if(o)return window.addEventListener("scroll",w,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",w,!0)},[w,o]),(0,u.useEffect)(()=>(window.addEventListener("resize",m),()=>void window.removeEventListener("resize",m)),[m]),(0,u.useEffect)(()=>{b(),E()},[t,w,m]),(0,u.useEffect)(()=>b,[]),[e=>{e&&e!==f.current.element&&(b(),f.current.element=e,f.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[r,o,i].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),E())},c,p]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),I=u.useRef(null),A=u.useRef(null);u.useImperativeHandle(_,()=>I.current);let D=(0,i.u)(k),[N,W]=u.useState(!1),[G,X]=u.useState(!1);if(N)throw N;if(G)throw G;let Y=u.useRef(null);(0,i.a)(()=>{let t=I.current;B.width>0&&B.height>0&&t&&(Y.current||(Y.current=(0,i.b)(t)),Y.current.configure({gl:o,events:s,shadows:v,linear:h,flat:p,legacy:m,orthographic:w,frameloop:g,dpr:j,performance:L,raycaster:P,camera:S,scene:R,size:B,onPointerMissed:(...e)=>null==D.current?void 0:D.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,i.i)(f)?f.current:f:A.current),d&&e.setEvents({compute:(e,t)=>{let n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-(r/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==H||H(e)}}),Y.current.render((0,z.jsx)(T,{children:(0,z.jsx)(i.E,{set:X,children:(0,z.jsx)(u.Suspense,{fallback:(0,z.jsx)(i.B,{set:W}),children:e})})})))}),u.useEffect(()=>{let e=I.current;if(e)return()=>(0,i.d)(e)},[]);let q=f?"none":"auto";return(0,z.jsx)("div",{ref:A,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...M,children:(0,z.jsx)("div",{ref:F,style:{width:"100%",height:"100%"},children:(0,z.jsx)("canvas",{ref:I,style:{display:"block"},children:t})})})}),P=u.forwardRef(function(e,t){return(0,z.jsx)(C,{children:(0,z.jsx)(L,{...e,ref:t})})})}}]);